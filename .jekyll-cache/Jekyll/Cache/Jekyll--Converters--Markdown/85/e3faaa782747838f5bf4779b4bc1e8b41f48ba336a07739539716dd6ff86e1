I"S<h1 id="i-love-tailwind">I love Tailwind</h1>

<p>I love tailwindcss. It makes styling everything so much easier and more intuitive. That’s why I use it everywhere in my current project.</p>

<p>However, my current project also called for a rich text field.</p>

<p>ActionText and it’s ability to “easily” add a rich text area was the obvious fit. So I followed the installation instructions on the <a href="https://edgeguides.rubyonrails.org/action_text_overview.html">edge guides site</a>.</p>

<p>Much to my dismay, after following all the instructions, my text field area looked like this:</p>

<p><img src="/assets/tailwind_rich_formatting_wrong.png" alt="That don't look right!" /></p>

<p>I can’t say this for certain with my limited programming knowledge, but I think having the trix styling code in actiontext.scss was messing everything up. I tried a bunch of different things, mostly by process of elimination, and eventually stumbled on something that worked.</p>

<p>Here’s what I found…</p>

<h2 id="how-to-modify-the-rails-edge-guides-installation-instructions-for-tailwind">How to modify the rails edge guides installation instructions for tailwind</h2>

<p><em>TL:DR; Move the content of actiontext.scss into application.scss.</em></p>

<h4 id="step-one-run-rails-action_textinstall">Step One: Run <code class="highlighter-rouge">rails action_text:install</code></h4>

<p>That is, if you haven’t already. This will create the migrations needed to allow actiontext to function.</p>

<p>You’ll also need active storage set up as well but I’ll let you take care of that one.</p>

<h4 id="step-two-include-trix-and-actiontext-in-applicationjs">Step Two: Include Trix and ActionText in application.js</h4>

<p>We still need trix and action text in our application.js pack.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// application.js
require("trix")
require("@rails/actiontext")
</code></pre></div></div>
<h4 id="step-three--cut-out-the-code-from-actiontextscss">Step Three:  Cut out the code from actiontext.scss</h4>

<p>Go to actiontext.scss and cut out all the code underneath all the comments. That’ll be this ditty of code right here:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@import "trix/dist/trix";

.trix-content {
  .attachment-gallery {
    &gt; action-text-attachment,
    &gt; .attachment {
      flex: 1 0 33%;
      padding: 0 0.5em;
      max-width: 33%;
    }

    &amp;.attachment-gallery--2,
    &amp;.attachment-gallery--4 {
      &gt; action-text-attachment,
      &gt; .attachment {
        flex-basis: 50%;
        max-width: 50%;
      }
    }
  }

  action-text-attachment {
    .attachment {
      padding: 0 !important;
      max-width: 100% !important;
    }
  }
}
</code></pre></div></div>

<h4 id="step-four-paste-that-code-under-your-tailwind-code-in-applicationscss">Step Four: Paste that code under your tailwind code in application.scss</h4>

<p>Paste your actiontext.scss bit after your tailwind imports in application.scss.</p>

<p>Your file will now look something like this:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@import "tailwindcss/base";

@import "tailwindcss/components";

@import "trix/dist/trix";

.trix-content {
  .attachment-gallery {
    &gt; action-text-attachment,
    &gt; .attachment {
      flex: 1 0 33%;
      padding: 0 0.5em;
      max-width: 33%;
    }

    &amp;.attachment-gallery--2,
    &amp;.attachment-gallery--4 {
      &gt; action-text-attachment,
      &gt; .attachment {
        flex-basis: 50%;
        max-width: 50%;
      }
    }
  }

  action-text-attachment {
    .attachment {
      padding: 0 !important;
      max-width: 100% !important;
    }
  }
}

</code></pre></div></div>

<h4 id="step-five-refresh-and-enjoy-your-nicely-formatted-trix-editor-the-way-it-was-meant-to">Step Five: Refresh and enjoy your nicely formatted trix editor the way it was meant to</h4>

<p>Ah, much better!</p>

<p><img src="/assets/tailwind_actiontext_right.png" alt="That does look right" /></p>

<p>That’s it! Hope this helps someone! :-)</p>
:ET